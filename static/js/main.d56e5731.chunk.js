(this["webpackJsonpreact-redux-with-hooks"]=this["webpackJsonpreact-redux-with-hooks"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/world.6f8c208a.svg"},25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"findByCountryCode",(function(){return I})),a.d(n,"findDetailsByCountryName",(function(){return J}));var r={};a.r(r),a.d(r,"getGlobalStats",(function(){return M}));var c=a(1),o=a.n(c),u=a(11),l=a.n(u),i=(a(30),a(31),a(34),a(35),a(19)),s=a.n(i),d=a(20),f=a.n(d);function m(e){var t,a=e.onCountryClick;return o.a.createElement(f.a,{src:s.a,innerRef:function(e){t=e},alt:"World Map","data-uk-svg":!0,onLoad:function(){return e=a,void t.querySelectorAll("path").forEach((function(t){var a=t.getAttribute("data-id"),n=t.getAttribute("data-name");t.addEventListener("click",(function(){return e(a,n)}))}));var e}})}var p=a(10),v=a(6),h=a.n(v),y=a(9),b=a(4),k=h.a.mark(O);function E(e){return h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.b)(e,a.payload);case 3:return n=t.sent,t.next=6,Object(b.a)([Object(b.c)({type:w,payload:n.name}),Object(b.c)({type:"[country] [fetch] [success]",payload:n})]);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(b.c)(Object(y.a)({},a,{type:"[country] [fetch] [failure]",error:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))}var w="[country details] [query]";function g(e){return h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.b)(e,a.payload);case 3:return n=t.sent,t.next=6,Object(b.c)({type:"[country details] [fetch] [success]",payload:n});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(b.c)(Object(y.a)({},a,{type:"[country details] [fetch] [failure]",error:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))}function O(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.findByCountryCode,a=e.findDetailsByCountryName,n.next=3,Object(b.d)("[country] [query] by code",E(t));case 3:return n.next=5,Object(b.d)(w,g(a));case 5:case"end":return n.stop()}}),k)}var j=a(22);function x(e){var t=e.text,a=void 0===t?"Details":t,n=e.children,r=Object(c.useRef)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"uk-button uk-button-default",role:"button",title:"View country details",onClick:function(){return j.modal(r.current).show()}},a),o.a.createElement("div",{ref:r,role:"dialog",className:"uk-modal-container uk-flex-top","data-uk-modal":!0},o.a.createElement("div",{className:"uk-modal-dialog uk-margin-auto-vertical uk-padding-small"},n,o.a.createElement("button",{className:"uk-modal-close-full uk-close-large",role:"button",title:"Close view country details","data-uk-close":!0}))))}var N={whiteSpace:"pre-wrap",wordWrap:"break-word"};function C(e){var t=e.country,a=void 0===t?{}:t;return a.name?o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:a.flag,alt:"Flag of ".concat(a.name),className:"uk-box-shadow-xlarge"}),o.a.createElement("h1",{className:"uk-heading-small"},a.nativeName),o.a.createElement("dl",{className:"uk-description-list"},o.a.createElement("dt",null,"English Name"),o.a.createElement("dd",null,a.name),o.a.createElement("dt",null,"Capital"),o.a.createElement("dd",null,a.capital),o.a.createElement("dt",null,"Population"),o.a.createElement("dd",null,(new Intl.NumberFormat).format(a.population))),o.a.createElement(x,null,o.a.createElement("h1",{className:"uk-heading-small"},a.name),o.a.createElement("pre",{style:N},a.details))):null}var _=h.a.mark(D),S="[covid-19] [query] all";var q="[covid-19] [fetch] [success]";function B(e){return h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.b)(e);case 3:return n=t.sent,t.next=6,Object(b.c)({type:q,payload:n});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(b.c)(Object(y.a)({},a,{type:"[covid-19] [fetch] [failure]",error:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))}function D(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.getGlobalStats,a.next=3,Object(b.d)(S,B(t));case 3:case"end":return a.stop()}}),_)}function F(){var e=Object(p.c)((function(e){return e.country})),t=Object(p.c)((function(t){return e.alpha2Code&&t.covid19[e.alpha2Code.toUpperCase()]})),a=Object(p.b)();return Object(c.useEffect)((function(){a({type:S})}),[a]),o.a.createElement("div",{className:"uk-grid-match uk-padding","data-uk-grid":!0},o.a.createElement("div",{className:"uk-width-2-3@m"},o.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},o.a.createElement(m,{onCountryClick:function(e){return a(function(e){return{type:"[country] [query] by code",payload:e}}(e))}}))),o.a.createElement("div",{className:"uk-width-1-3@m"},o.a.createElement("div",{className:"uk-card uk-card-default uk-card-body"},o.a.createElement(C,{country:e}),o.a.createElement("pre",null,JSON.stringify(t,null,2)))))}var P=a(7),W=Object(P.c)({country:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[country] [fetch] [success]":return Object(y.a)({},e,{},t.payload);case"[country details] [fetch] [success]":return Object(y.a)({},e,{details:t.payload});default:return e}},covid19:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===q?t.payload:e}}),A=a(24);function I(e){return fetch("https://restcountries.eu/rest/v2/alpha/".concat(e)).then((function(e){return e.json()}))}function J(e){return fetch("https://en.wikipedia.org/w/api.php?action=query&titles=".concat(e,"&format=json&origin=*&prop=extracts&explaintext&exintro&redirects=1")).then((function(e){return e.json()})).then((function(e){return e.query.pages[Object.keys(e.query.pages)[0]].extract}))}var L=a(23);function M(){return Promise.all(["http://health-api.com/api/v1/covid-19/all","http://health-api.com/api/v1/covid-19/total"].map((function(e){return"".concat("http://localhost:8080","/").concat(e)})).map((function(e){return fetch(e)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t=Object(L.a)(e,2),a=t[0],n=t[1];return a.reduce((function(e,t){if(e[t.country_code]){var a=e[t.country_code];e[t.country_code]=Object(y.a)({},t,{state:"",confirmed:a.confirmed+t.confirmed,deaths:a.deaths+t.deaths,recovered:a.recovered+t.recovered})}else e[t.country_code]=t;var r=e[t.country_code];return r.confirmed_percentage=r.confirmed/n.total_confirmed,e}),{})}))}var R=h.a.mark(G);function G(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)([O(n),D(r)]);case 2:case"end":return e.stop()}}),R)}var T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,U=Object(A.a)(),V=Object(P.e)(W,{country:{}},T(Object(P.a)(U)));U.run(G);var X=function(){return o.a.createElement(p.a,{store:V},o.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.d56e5731.chunk.js.map